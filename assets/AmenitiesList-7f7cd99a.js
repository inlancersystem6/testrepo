import{_ as D,o as a,c as o,F as h,j as S,i as l,a as e,t as A,p as C,k as M,u as F,f as y,g,r as m,b as c,w as f,h as k,d as T}from"./index-5d175349.js";import{L as G,D as V}from"./Layout-feaff5d7.js";import{C as R,S as U,P as q,_ as j}from"./adjustments-5072e001.js";import{_ as Z,a as W}from"./trash-bad6200c.js";import{_ as z}from"./edit-51d5eb37.js";import{I as H}from"./Input-d28165ea.js";import{T as J}from"./TextArea-d58f5809.js";import{L as K}from"./Label-d788184e.js";import{E as O}from"./ErrorMessage-d5a29056.js";import{_ as Q}from"./debounce-dc4ebcc5.js";import{_ as X}from"./plus-3-0d8d5401.js";import{_ as Y}from"./no-data-9a9520f2.js";import"./OverLaye-142172c4.js";import"./search-0186349c.js";const ee={props:{list:Array,loading:Boolean},methods:{deleteItem(s){this.$emit("delete_item",s)},editItem(s){this.$emit("edit_item",s)}}},_=s=>(C("data-v-e0242629"),s=s(),M(),s),te={key:0},se=_(()=>e("td",{class:"count skeleton-element"},null,-1)),ie=_(()=>e("td",{class:"user_name skeleton-element"},null,-1)),ae=_(()=>e("td",{class:"user_number skeleton-element"},null,-1)),oe=_(()=>e("td",{class:"blank"},null,-1)),ne=_(()=>e("td",{class:"skeleton-element min-w-10 max-w-10 ml-[145px]"},null,-1)),re=[se,ie,ae,oe,ne],le={key:0},de={class:"count"},me={class:"gap-8px text-sm_regular color-Grey_90"},ce={class:"user_name"},_e={class:"text-sm_regular color-Grey_90"},pe={class:"user_number"},ue={class:"text-sm_regular color-Grey_90"},he=_(()=>e("td",{class:"blank"},null,-1)),ge={class:"dropdown"},be={class:"icon-btn icon-btn_32px custom-dropdown"},ye=_(()=>e("img",{src:Z},null,-1)),fe={class:"custom-dropdown-list leftside icon-dropdown"},ve=["onClick"],xe=_(()=>e("div",{class:"dropdown-link"},[e("img",{src:z}),e("p",{class:"dropdown-link-title"}," Edit Amenities ")],-1)),Ae=[xe],ke=["onClick"],Ie=_(()=>e("div",{class:"dropdown-link"},[e("img",{src:W}),e("p",{class:"dropdown-link-title required"}," Delete Amenities ")],-1)),we=[Ie];function Ne(s,t,r,I,i,n){return a(),o(h,null,[(a(),o(h,null,S(6,(p,u)=>(a(),o(h,{key:u},[r.loading?(a(),o("tr",te,re)):l("",!0)],64))),64)),(a(!0),o(h,null,S(r.list,(p,u)=>(a(),o(h,{key:u},[r.loading?l("",!0):(a(),o("tr",le,[e("td",de,[e("p",me,A(u+1),1)]),e("td",ce,[e("p",_e,A(p.amenities_name),1)]),e("td",pe,[e("p",ue,A(p.amenities_details),1)]),he,e("td",ge,[e("div",be,[ye,e("ul",fe,[e("li",{class:"dropdown-item",onClick:x=>n.editItem(p.amenities_id)},Ae,8,ve),e("li",{class:"dropdown-item",onClick:x=>n.deleteItem(p.amenities_id)},we,8,ke)])])])]))],64))),128))],64)}const Se=D(ee,[["render",Ne],["__scopeId","data-v-e0242629"]]);const v="https://devapi.billionbuild.com",De={components:{Layout:G,ContentSection:R,ErrorMessage:O,SearchBox:U,Pagination:q,AmenitiesRow:Se,DeleteModel:V,Input:H,TextArea:J,Label:K},data(){return{breadcrumbList:[{name:"Dashboard",link:"/"},{name:"Settings",link:"/settings"},{name:"Amenities"}],list:[],searchText:"",currentPage:1,totalPages:1,sort:"asc",deleteItemModal:!1,itemId:"",amenitiesName:"",amenitiesNote:"",amenitiesModal:!1,listLoading:!1,listEmpty:!1,isValidAmenitiesName:!0,isValidAmenitiesNote:!0}},created(){this.amenitieData();const s=F(),t="Amenities List |  Billion Build",r="this is description for Amenities List";s.chnageTitle(t,r)},computed:{addamenitiesBtn(){const s=/[!@#$%^&*()?":{}|<>]/;return!this.amenitiesName.trim()||!this.amenitiesNote.trim()||s.test(this.amenitiesNote)}},methods:{validateField(s){const t=/[!@#$%^&*()?":{}|<>]/;return s.trim()===""||!t.test(s)},addUserFun(){this.amenitiesModal=!0,this.amenitiesName="",this.amenitiesNote="",this.itemId=""},searchTextFun:Q(function(s){this.searchText=s.target.value.trim(),this.amenitieData()},400),clearSearch(){this.searchText="",this.amenitieData()},updatePage(s){this.currentPage=s,this.amenitieData()},changesort(){this.sort=this.sort==="desc"?"asc":"desc",this.amenitieData()},async amenitieData(){this.listLoading=!0,this.listEmpty=!1;var s=new FormData;s.append("amenities_id",""),s.append("sort",this.sort),s.append("search",this.searchText),s.append("page_no",this.currentPage);try{const t=await y.post(`${v}/amenity-list`,s);t.data&&t.data.length!==0?(this.listLoading=!1,this.list=t.data,this.totalPages=t.total_pages):(g().error("No Data Found"),this.listEmpty=!0,this.totalPages=1)}catch(t){g().error(t)}},getItemId(s){this.deleteItemModal=!0,this.itemId=s},async editItem(s){this.itemId=s;var t=new FormData;t.append("amenities_id",s),t.append("sort",this.sort),t.append("search",this.searchText),t.append("page_no",this.currentPage);try{const r=await y.post(`${v}/amenity-list`,t);this.amenitiesModal=!0,this.amenitiesName=r.data.amenities_name,this.amenitiesNote=r.data.amenities_details}catch(r){g().error(r)}},async deleteItem(){var s=new FormData;s.append("amenities_id",this.itemId);try{(await y.post(`${v}/remove-amenities`,s)).success===1&&(this.amenitieData(),this.deleteItemModal=!1,this.itemId="")}catch(t){g().error(t)}},async addAmenities(){var s=new FormData;s.append("amenities_id",this.itemId||""),s.append("amenities_name",this.amenitiesName),s.append("amenities_details",this.amenitiesNote);try{(await y.post(`${v}/add-amenities`,s)).success===1&&(this.amenitieData(),this.deleteItemModal=!1,this.amenitiesModal=!1,this.amenitiesName="",this.amenitiesNote="",this.itemId="")}catch(t){g().error(t)}}}},b=s=>(C("data-v-f62fd92f"),s=s(),M(),s),Ce=b(()=>e("div",{class:"w-100 margin-bottom_12px"},[e("h2",{class:"title"},"Amenities List")],-1)),Me={class:"table-options"},Pe=b(()=>e("img",{src:j},null,-1)),Le={key:0},Ee={key:1},$e={class:"table-options table-grid"},Be=b(()=>e("img",{src:X},null,-1)),Fe={key:0,class:"data-not-found border-b border-Grey_20 border-solid"},Te=b(()=>e("img",{src:Y},null,-1)),Ge=[Te],Ve={key:1,class:"w-100 user-table"},Re=b(()=>e("tr",null,[e("td",{class:"count"},[e("p",{class:"text-base_semibold color-Grey_50"},"No.")]),e("td",{class:"user_name"},[e("p",{class:"text-base_semibold color-Grey_50"},"Amenities Name")]),e("td",{class:"user_number"},[e("p",{class:"text-base_semibold color-Grey_50"},"Amenities Details")]),e("td",{class:"blank"}),e("td",{class:"dropdown"},[e("div",{class:"icon-btn icon-btn_32px custom-dropdown"})])],-1)),Ue={key:0,class:"status-chnageBox"},qe={class:"w-full border border-solid border-Grey_20 rounded-regualr bg-white"},je={class:"w-full border-b border-solid border-Gray_20"},Ze={class:"padding-y_8px padding-x_16px"},We={key:0},ze={key:1},He={class:"padding-y_12px padding-x_16px space-y-4"},Je={class:"space-y-4px"},Ke={class:"space-y-4px"},Oe={class:"w-full border-t border-solid border-Gray_20"},Qe={class:"padding-y_8px padding-x_16px flex items-center justify-end gap-8px"},Xe=["disabled"],Ye=["disabled"];function et(s,t,r,I,i,n){const p=m("SearchBox"),u=m("AmenitiesRow"),x=m("Pagination"),P=m("ContentSection"),w=m("Label"),L=m("Input"),N=m("ErrorMessage"),E=m("TextArea"),$=m("Layout"),B=m("DeleteModel");return a(),o(h,null,[c($,{breadcrumb:i.breadcrumbList},{default:f(()=>[c(P,null,{"table-header":f(()=>[Ce,e("div",Me,[e("button",{class:"btn-regular display-flex align-center gap-8px",onClick:t[0]||(t[0]=d=>n.changesort())},[Pe,i.sort==="asc"?(a(),o("span",Le,"A to Z")):l("",!0),i.sort==="desc"?(a(),o("span",Ee,"Z to A")):l("",!0)])]),e("div",$e,[c(p,{placeholder:"Search Amenities",value:i.searchText,onInput:n.searchTextFun,onClear_search:n.clearSearch},null,8,["value","onInput","onClear_search"]),e("button",{class:"btn-regular display-flex align-center w-100 gap-8px text-no-wrap",onClick:t[1]||(t[1]=d=>n.addUserFun())},[Be,T(" Add New Amenities")])])]),"main-table":f(()=>[i.listEmpty?(a(),o("div",Fe,Ge)):l("",!0),i.listEmpty?l("",!0):(a(),o("table",Ve,[e("tbody",null,[Re,c(u,{list:i.list,onDelete_item:n.getItemId,onEdit_item:n.editItem,loading:i.listLoading},null,8,["list","onDelete_item","onEdit_item","loading"])])]))]),"table-footer":f(()=>[c(x,{currentPage:i.currentPage,totalPages:i.totalPages,onUpdatePage:n.updatePage},null,8,["currentPage","totalPages","onUpdatePage"])]),_:1}),i.amenitiesModal?(a(),o("div",Ue,[e("div",qe,[e("div",je,[e("div",Ze,[this.itemId?l("",!0):(a(),o("h4",We," Add Amenities")),this.itemId?(a(),o("h4",ze," Edit Amenities")):l("",!0)])]),e("div",He,[e("div",Je,[c(w,{label:"Amenities Name",required:""}),c(L,{placeholder:"Enter Amenities Name",id:"Amenities Name",value:i.amenitiesName,onInput:t[2]||(t[2]=d=>{i.amenitiesName=d.target.value,i.isValidAmenitiesName=this.validateField(this.amenitiesName)})},null,8,["value"]),i.isValidAmenitiesName?l("",!0):(a(),k(N,{key:0,msg:"Amenities name cannot contain special characters"}))]),e("div",Ke,[c(w,{label:"Amenities details",required:""}),c(E,{placeholder:"Enter Amenities details",id:"Amenities details",value:i.amenitiesNote,onInput:t[3]||(t[3]=d=>{i.amenitiesNote=d.target.value,i.isValidAmenitiesNote=this.validateField(this.amenitiesNote)})},null,8,["value"]),i.isValidAmenitiesNote?l("",!0):(a(),k(N,{key:0,msg:"Amenities Note cannot contain special characters"}))])]),e("div",Oe,[e("div",Qe,[e("button",{class:"btn-regular",onClick:t[4]||(t[4]=d=>this.amenitiesModal=!this.amenitiesModal)},"Cancel"),this.itemId?l("",!0):(a(),o("button",{key:0,class:"btn-regular",disabled:n.addamenitiesBtn,onClick:t[5]||(t[5]=(...d)=>n.addAmenities&&n.addAmenities(...d))},"Save",8,Xe)),this.itemId?(a(),o("button",{key:1,class:"btn-regular",disabled:n.addamenitiesBtn,onClick:t[6]||(t[6]=(...d)=>n.addAmenities&&n.addAmenities(...d))},"Update",8,Ye)):l("",!0)])])])])):l("",!0),i.amenitiesModal?(a(),o("div",{key:1,class:"overlay",onClick:t[7]||(t[7]=d=>this.amenitiesModal=!this.amenitiesModal)})):l("",!0)]),_:1},8,["breadcrumb"]),i.deleteItemModal?(a(),k(B,{key:0,model_title:"Delete Amenities",model_subtitle:"Are you sure you want to delete this Amenities?",onClose_model:t[8]||(t[8]=d=>i.deleteItemModal=!1),onDelete_item:t[9]||(t[9]=d=>n.deleteItem())})):l("",!0)],64)}const ht=D(De,[["render",et],["__scopeId","data-v-f62fd92f"]]);export{ht as default};
