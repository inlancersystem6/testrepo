import{x as F,q as S,B as M,s as m,y as Y,z as U,A as de,D as ue,F as ie,C as ee,E as H,u as se,k as ce,l as pe,o as P,c as k,a as d,b as z,f as R,e as E,d as te,n as ve,w as we,r as O,p as fe,j as me,g as K,i as G,h as $}from"./index-rUHQi0PA.js";import{O as B,o as w,A as L,T as he,d as ae,s as be,N as Z,u as q,i as y,v as j,n as ge,P as A,r as x,L as _e}from"./Layout-KiF4WUBz.js";import{E as ye}from"./ErrorMessage-JYh5Kwt5.js";import{_ as J,a as Q}from"./password-hide-NGCYExLF.js";import{_ as re}from"./_plugin-vue_export-helper-x3n3nnut.js";import{s as xe,f as oe}from"./hidden-bfGGyGex.js";import{t as Pe}from"./micro-task-ZxAilEVg.js";import"./OverLaye-Atv8c0rd.js";let Se=F({props:{onFocus:{type:Function,required:!0}},setup(e){let a=S(!0);return()=>a.value?M(oe,{as:"button",type:"button",features:xe.Focusable,onFocus(i){i.preventDefault();let c,t=50;function o(){var n;if(t--<=0){c&&cancelAnimationFrame(c);return}if((n=e.onFocus)!=null&&n.call(e)){a.value=!1,cancelAnimationFrame(c);return}c=requestAnimationFrame(o)}c=requestAnimationFrame(o)}}):null}});var Ie=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ie||{}),Te=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Te||{});let le=Symbol("TabsContext");function D(e){let a=H(le,null);if(a===null){let i=new Error(`<${e} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,D),i}return a}let X=Symbol("TabsSSRContext"),ke=F({name:"TabGroup",emits:{change:e=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:a,attrs:i,emit:c}){var t;let o=S((t=e.selectedIndex)!=null?t:e.defaultIndex),n=S([]),u=S([]),h=m(()=>e.selectedIndex!==null),f=m(()=>h.value?e.selectedIndex:o.value);function v(r){var s;let l=B(p.tabs.value,w),b=B(p.panels.value,w),I=l.filter(g=>{var _;return!((_=w(g))!=null&&_.hasAttribute("disabled"))});if(r<0||r>l.length-1){let g=q(o.value===null?0:Math.sign(r-o.value),{[-1]:()=>1,0:()=>q(Math.sign(r),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),_=q(g,{0:()=>l.indexOf(I[0]),1:()=>l.indexOf(I[I.length-1])});_!==-1&&(o.value=_),p.tabs.value=l,p.panels.value=b}else{let g=l.slice(0,r),_=[...l.slice(r),...g].find(ne=>I.includes(ne));if(!_)return;let W=(s=l.indexOf(_))!=null?s:p.selectedIndex.value;W===-1&&(W=p.selectedIndex.value),o.value=W,p.tabs.value=l,p.panels.value=b}}let p={selectedIndex:m(()=>{var r,s;return(s=(r=o.value)!=null?r:e.defaultIndex)!=null?s:null}),orientation:m(()=>e.vertical?"vertical":"horizontal"),activation:m(()=>e.manual?"manual":"auto"),tabs:n,panels:u,setSelectedIndex(r){f.value!==r&&c("change",r),h.value||v(r)},registerTab(r){var s;if(n.value.includes(r))return;let l=n.value[o.value];n.value.push(r),n.value=B(n.value,w);let b=(s=n.value.indexOf(l))!=null?s:o.value;b!==-1&&(o.value=b)},unregisterTab(r){let s=n.value.indexOf(r);s!==-1&&n.value.splice(s,1)},registerPanel(r){u.value.includes(r)||(u.value.push(r),u.value=B(u.value,w))},unregisterPanel(r){let s=u.value.indexOf(r);s!==-1&&u.value.splice(s,1)}};Y(le,p);let T=S({tabs:[],panels:[]}),C=S(!1);U(()=>{C.value=!0}),Y(X,m(()=>C.value?null:T.value));let N=m(()=>e.selectedIndex);return U(()=>{de([N],()=>{var r;return v((r=e.selectedIndex)!=null?r:e.defaultIndex)},{immediate:!0})}),ue(()=>{if(!h.value||f.value==null||p.tabs.value.length<=0)return;let r=B(p.tabs.value,w);r.some((s,l)=>w(p.tabs.value[l])!==w(s))&&p.setSelectedIndex(r.findIndex(s=>w(s)===w(p.tabs.value[f.value])))}),()=>{let r={selectedIndex:o.value};return M(ie,[n.value.length<=0&&M(Se,{onFocus:()=>{for(let s of n.value){let l=w(s);if((l==null?void 0:l.tabIndex)===0)return l.focus(),!0}return!1}}),L({theirProps:{...i,...he(e,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:r,slots:a,attrs:i,name:"TabGroup"})])}}}),Ee=F({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:a,slots:i}){let c=D("TabList");return()=>{let t={selectedIndex:c.selectedIndex.value},o={role:"tablist","aria-orientation":c.orientation.value};return L({ourProps:o,theirProps:e,slot:t,attrs:a,slots:i,name:"TabList"})}}}),Ce=F({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-tabs-tab-${ae()}`}},setup(e,{attrs:a,slots:i,expose:c}){let t=D("Tab"),o=S(null);c({el:o,$el:o}),U(()=>t.registerTab(o)),ee(()=>t.unregisterTab(o));let n=H(X),u=m(()=>{if(n.value){let s=n.value.tabs.indexOf(e.id);return s===-1?n.value.tabs.push(e.id)-1:s}return-1}),h=m(()=>{let s=t.tabs.value.indexOf(o);return s===-1?u.value:s}),f=m(()=>h.value===t.selectedIndex.value);function v(s){var l;let b=s();if(b===j.Success&&t.activation.value==="auto"){let I=(l=ge(o))==null?void 0:l.activeElement,g=t.tabs.value.findIndex(_=>w(_)===I);g!==-1&&t.setSelectedIndex(g)}return b}function p(s){let l=t.tabs.value.map(b=>w(b)).filter(Boolean);if(s.key===y.Space||s.key===y.Enter){s.preventDefault(),s.stopPropagation(),t.setSelectedIndex(h.value);return}switch(s.key){case y.Home:case y.PageUp:return s.preventDefault(),s.stopPropagation(),v(()=>A(l,x.First));case y.End:case y.PageDown:return s.preventDefault(),s.stopPropagation(),v(()=>A(l,x.Last))}if(v(()=>q(t.orientation.value,{vertical(){return s.key===y.ArrowUp?A(l,x.Previous|x.WrapAround):s.key===y.ArrowDown?A(l,x.Next|x.WrapAround):j.Error},horizontal(){return s.key===y.ArrowLeft?A(l,x.Previous|x.WrapAround):s.key===y.ArrowRight?A(l,x.Next|x.WrapAround):j.Error}}))===j.Success)return s.preventDefault()}let T=S(!1);function C(){var s;T.value||(T.value=!0,!e.disabled&&((s=w(o))==null||s.focus({preventScroll:!0}),t.setSelectedIndex(h.value),Pe(()=>{T.value=!1})))}function N(s){s.preventDefault()}let r=be(m(()=>({as:e.as,type:a.type})),o);return()=>{var s;let l={selected:f.value},{id:b,...I}=e,g={ref:o,onKeydown:p,onMousedown:N,onClick:C,id:b,role:"tab",type:r.value,"aria-controls":(s=w(t.panels.value[h.value]))==null?void 0:s.id,"aria-selected":f.value,tabIndex:f.value?0:-1,disabled:e.disabled?!0:void 0};return L({ourProps:g,theirProps:I,slot:l,attrs:a,slots:i,name:"Tab"})}}}),Ae=F({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:a,attrs:i}){let c=D("TabPanels");return()=>{let t={selectedIndex:c.selectedIndex.value};return L({theirProps:e,ourProps:{},slot:t,attrs:i,slots:a,name:"TabPanels"})}}}),Oe=F({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-tabs-panel-${ae()}`},tabIndex:{type:Number,default:0}},setup(e,{attrs:a,slots:i,expose:c}){let t=D("TabPanel"),o=S(null);c({el:o,$el:o}),U(()=>t.registerPanel(o)),ee(()=>t.unregisterPanel(o));let n=H(X),u=m(()=>{if(n.value){let v=n.value.panels.indexOf(e.id);return v===-1?n.value.panels.push(e.id)-1:v}return-1}),h=m(()=>{let v=t.panels.value.indexOf(o);return v===-1?u.value:v}),f=m(()=>h.value===t.selectedIndex.value);return()=>{var v;let p={selected:f.value},{id:T,tabIndex:C,...N}=e,r={ref:o,id:T,role:"tabpanel","aria-labelledby":(v=w(t.tabs.value[h.value]))==null?void 0:v.id,tabIndex:f.value?C:-1};return!f.value&&e.unmount&&!e.static?M(oe,{as:"span","aria-hidden":!0,...r}):L({ourProps:r,theirProps:N,slot:p,attrs:a,slots:i,features:Z.Static|Z.RenderStrategy,visible:f.value,name:"TabPanel"})}}});const Fe="http://64.227.168.246:5000/admin",Ne={components:{ErrorMessage:ye},data(){return{authStore:"",alertStore:"",passwordShow1:"",passwordShow2:"",passwordShow3:"",showError:!1,loading:!1}},created(){this.authStore=se(),this.alertStore=ce()},methods:{async changePassword(){if(this.loading=!0,this.newPassword!==this.confirmPassword){this.showError=!0,this.loading=!1;return}const e=new FormData;e.append("current_password",this.oldPassword),e.append("new_password",this.newPassword),e.append("confirm_password",this.confirmPassword);try{const a=await pe.post(`${Fe}/change-password`,e);a.success===1?(this.alertStore.success(a.message),await new Promise(i=>setTimeout(i,800)),this.oldPassword="",this.newPassword="",this.confirmPassword="",this.loading=!1):(this.alertStore.error(a.message),this.loading=!1)}catch(a){this.alertStore.error(a),this.loading=!1}finally{this.loading=!1}}}},V=e=>(fe("data-v-17b47977"),e=e(),me(),e),Be={class:"w-full bg-white border border-oslid border-Grey_20 rounded-xl py-6 px-4"},Le=V(()=>d("h2",{class:"text-xl font-semibold mb-4"},"Change Password",-1)),De={class:"grid md:grid-cols-2 gap-6"},Ge={class:"input-group"},$e=V(()=>d("label",{for:"old password",class:"block w-full"},[K(" Old Password "),d("span",{class:"text-rose"},"*")],-1)),je={class:"search-wrraper w-100 border-Grey_20"},qe=["type"],Me={key:0,src:J,class:"img-not-selected"},Ue={key:1,src:Q,class:"img-not-selected"},Ve={class:"grid md:grid-cols-2 gap-6"},We={class:"input-group"},ze=V(()=>d("label",{for:"new password",class:"block w-full"},[K("New Password "),d("span",{class:"text-rose"},"*")],-1)),Re={class:"search-wrraper w-100 border-Grey_20"},He=["type"],Ke={key:0,src:J,class:"img-not-selected"},Je={key:1,src:Q,class:"img-not-selected"},Qe={class:"input-group"},Xe=V(()=>d("label",{for:"password",class:"block w-full"},[K("Confirm Password "),d("span",{class:"text-rose"},"*")],-1)),Ye={class:"search-wrraper w-100 border-Grey_20"},Ze=["type"],es={key:0,src:J,class:"img-not-selected"},ss={key:1,src:Q,class:"img-not-selected"},ts={class:"flex items-center justify-end"},as=["disabled"];function rs(e,a,i,c,t,o){const n=O("ErrorMessage");return P(),k("div",Be,[Le,d("form",{class:"space-y-6",onSubmit:a[6]||(a[6]=we(u=>o.changePassword(),["prevent"]))},[d("div",De,[d("div",Ge,[$e,d("div",je,[z(d("input",{type:t.passwordShow1?"text":"password",id:"old password",name:"password",class:"w-100",placeholder:"Enter Old password","onUpdate:modelValue":a[0]||(a[0]=u=>e.oldPassword=u),required:""},null,8,qe),[[R,e.oldPassword]]),d("button",{type:"button",class:"icon togglePassword",onClick:a[1]||(a[1]=u=>t.passwordShow1=!t.passwordShow1)},[t.passwordShow1?E("",!0):(P(),k("img",Me)),t.passwordShow1?(P(),k("img",Ue)):E("",!0)])])])]),d("div",Ve,[d("div",We,[ze,d("div",Re,[z(d("input",{type:t.passwordShow2?"text":"password",id:"new password",name:"password",class:"w-100",placeholder:"Enter New password","onUpdate:modelValue":a[2]||(a[2]=u=>e.newPassword=u),required:""},null,8,He),[[R,e.newPassword]]),d("button",{type:"button",class:"icon togglePassword",onClick:a[3]||(a[3]=u=>t.passwordShow2=!t.passwordShow2)},[t.passwordShow2?E("",!0):(P(),k("img",Ke)),t.passwordShow2?(P(),k("img",Je)):E("",!0)])])]),d("div",Qe,[Xe,d("div",Ye,[z(d("input",{type:t.passwordShow3?"text":"password",id:"password",name:"password",class:"w-100",placeholder:"Enter Confirm password","onUpdate:modelValue":a[4]||(a[4]=u=>e.confirmPassword=u),required:""},null,8,Ze),[[R,e.confirmPassword]]),d("button",{type:"button",class:"icon togglePassword",onClick:a[5]||(a[5]=u=>t.passwordShow3=!t.passwordShow3)},[t.passwordShow3?E("",!0):(P(),k("img",es)),t.passwordShow3?(P(),k("img",ss)):E("",!0)])]),t.showError?(P(),te(n,{key:0,msg:"New password and confirm password do not match."})):E("",!0)])]),d("div",ts,[d("button",{type:"submit",class:ve(["btn-regular",{"is-loading":t.loading}]),disabled:t.loading},"Change Password",10,as)])],32)])}const os=re(Ne,[["render",rs],["__scopeId","data-v-17b47977"]]),ls={components:{Layout:_e,TabGroup:ke,TabList:Ee,Tab:Ce,TabPanels:Ae,TabPanel:Oe,ChnagePassword:os},data(){return{authStore:"",alertStore:"",breadcrumbList:[{name:"Dashboard",link:"/"},{name:"change password"}]}},created(){this.authStore=se(),this.authStore.chnageTitle("change password |  Night warrior","this is description for change password")}};function ns(e,a,i,c,t,o){const n=O("ChnagePassword"),u=O("TabPanel"),h=O("TabPanels"),f=O("TabGroup"),v=O("Layout");return P(),te(v,{breadcrumb:t.breadcrumbList},{default:G(()=>[$(f,{as:"div",class:"flex flex-col md:flex-row gap-8"},{default:G(()=>[$(h,{as:"div",class:"flex-grow"},{default:G(()=>[$(u,null,{default:G(()=>[$(n)]),_:1})]),_:1})]),_:1})]),_:1},8,["breadcrumb"])}const ms=re(ls,[["render",ns],["__scopeId","data-v-1ab0f6a1"]]);export{ms as default};
