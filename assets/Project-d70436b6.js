import{_ as V,L as M}from"./Layout-c0e45365.js";import{_ as y}from"./_plugin-vue_export-helper-c27b6911.js";import{o,c as a,a as s,F as g,r as S,n as $,t as f,p as I,d as L,f as x,u as P,e as _,g as v,h as w,b as j,s as T,j as U,x as z,w as k,m as q}from"./index-31e5b7a2.js";import{I as B}from"./Input-759c262f.js";import{L as G}from"./Label-36958fc8.js";import{E as H}from"./ErrorMessage-338e63f5.js";import{T as K}from"./TextArea-235706fd.js";import{C as J}from"./ContentSection2-e340fc18.js";import{_ as R}from"./plus-c82c2a30.js";import{_ as W,a as Z}from"./trash-bad6200c.js";import{S as Q}from"./SettingPage-22bd9d03.js";import{I as X}from"./InventeryBoxStatus-4a22ea54.js";import"./OverLaye-0858a669.js";const Y={props:{items:Array,activeOption:String},methods:{onClick(e){this.$emit("setpClick",e)}}},ee=e=>(I("data-v-2a158fae"),e=e(),L(),e),te={class:"bg-white border border-solid border-Grey_20 rounded-regualr overflow-hidden w-100"},se={class:"display-flex align-stretch w-full"},re=["disabled","onClick"],oe={class:"counter"},ce=ee(()=>s("div",{class:"success_icon"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[s("path",{d:"M20.25 6.75L9.75 17.25L4.5 12",stroke:"#FFFFFF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),ie={class:"option-name"};function ne(e,t,c,l,n,r){return o(),a("div",te,[s("ul",se,[(o(!0),a(g,null,S(c.items,(i,m)=>(o(),a("li",{class:"setp-option",key:m},[s("button",{class:$(["option-details",{success:i.success===1,active:c.activeOption===i.Setp_category}]),disabled:i.Status===0,onClick:p=>r.onClick(i)},[s("div",oe,"0"+f(m+1),1),ce,s("p",ie,f(i.Setp_name),1)],10,re)]))),128))])])}const ae=y(Y,[["render",ne],["__scopeId","data-v-2a158fae"]]),E="https://devapi.billionbuild.com",de={components:{Input:B,Label:G,ErrorMessage:H,TextArea:K},data(){return{formSubmitted:!1,projectName:"",projectAddress:"",projectLevel:"",projectId:""}},computed:{projectAddBtn(){return!this.projectName.trim()||!this.projectAddress.trim()||!this.projectLevel.trim()}},created(){this.projectId=this.$route.params.projectId,this.getProjectData()},beforeRouteUpdate(e,t,c){this.projectId=e.params.projectId,this.getProjectData(),c()},methods:{isStringValid(e){return/^[A-Za-z\s]+$/.test(e)},async addproject(){if(!this.isStringValid(this.projectName)){this.$notify({group:"error",title:"Error",text:"Please enter a valid project name (only letters and spaces)."},2e3);return}var e=new FormData;this.projectId==="0"?e.append("project_id",""):e.append("project_id",this.projectId),e.append("project_name",this.projectName),e.append("project_address",this.projectAddress),e.append("project_levels",this.projectLevel);try{const t=await x.post(`${E}/project-add`,e);t.success===1&&(this.projectId==="0"&&this.$router.push({path:`/project/${t.data.project}`}),this.$emit("getprojectAdd",this.projectLevel),this.getProjectData(),this.projectName="",this.projectAddress="",this.projectLevel="")}catch(t){P().error(t)}},async getProjectData(){if(this.projectId==="0"||this.projectId===0)console.log(this.projectId);else{var e=new FormData;e.append("project_id",this.projectId);try{const t=await x.post(`${E}/project-details`,e);t.success===1&&(this.projectName=t.data.project_name,this.projectAddress=t.data.project_address,this.projectLevel=String(t.data.project_no_of_level),this.$emit("getProjectData",t.data))}catch(t){P().error(t)}}}}},le={class:"space-y-8px"},pe={class:"space-y-8px col-span-2"},ue={key:0,class:"space-y-8px"},_e={key:1},me=["disabled"];function he(e,t,c,l,n,r){const i=_("Label"),m=_("Input"),p=_("ErrorMessage"),u=_("TextArea");return o(),a("form",{class:"address-form",onSubmit:t[3]||(t[3]=T((...d)=>r.addproject&&r.addproject(...d),["prevent"]))},[s("div",le,[v(i,{label:"project Name"}),v(m,{placeholder:"Enter Project Name",id:"project Name",value:n.projectName,onInput:t[0]||(t[0]=d=>n.projectName=d.target.value)},null,8,["value"]),!this.projectName.trim()&&n.formSubmitted?(o(),w(p,{key:0,msg:""})):j("",!0)]),s("div",pe,[v(i,{label:"project Address"}),v(u,{placeholder:"Enter Project Address",id:"project Address",value:n.projectAddress,onInput:t[1]||(t[1]=d=>n.projectAddress=d.target.value)},null,8,["value"]),!this.projectAddress.trim()&&n.formSubmitted?(o(),w(p,{key:0,msg:""})):j("",!0)]),this.projectAddress.trim()&&this.projectName.trim()?(o(),a("div",ue,[v(i,{label:"project Level"}),v(m,{placeholder:"Enter Project Level",id:"project Level",value:n.projectLevel,onInput:t[2]||(t[2]=d=>n.projectLevel=d.target.value),type:"number"},null,8,["value"]),!n.projectLevel&&n.formSubmitted?(o(),w(p,{key:0,msg:""})):j("",!0)])):j("",!0),this.projectAddress.trim()&&this.projectName.trim()?(o(),a("div",_e)):j("",!0),s("button",{type:"submit",class:"btn-regular",disabled:r.projectAddBtn},"Add Project",8,me)],32)}const ve=y(de,[["render",he]]);const je={props:{items:Array},data(){return{selectDropdownOpen:!1,selectedOption:null,selectedOptionVal:null,customValue:""}},methods:{toggleDropdown(){this.selectDropdownOpen=!this.selectDropdownOpen},selectOption(e){this.selectedOption=e.sug_name,this.selectedOptionVal=e.sug_name,this.selectDropdownOpen=!1},sendSelectedOption(){this.$emit("option-selected",this.selectedOptionVal)},customType(){this.$emit("option-selected",this.customValue)},closedropp(){this.$emit("close_dropdown")}}},N=e=>(I("data-v-6889fcea"),e=e(),L(),e),ge={class:"dropdown-contain"},Se={class:"dropdown"},fe={class:"custom-select custom-dropdown"},be={key:0,class:"custom-dropdown-list show-dropdown",id:"TypeDrop2"},we=["onClick"],ye={class:"dropdown-link-title"},xe={class:"dropdown-item"},Pe={class:"add-custom-option"},De=N(()=>s("img",{src:R},null,-1)),ke=[De],$e=N(()=>s("img",{src:V},null,-1)),Ie=[$e];function Le(e,t,c,l,n,r){return o(),a(g,null,[s("div",ge,[s("div",Se,[s("div",fe,[s("p",{onClick:t[0]||(t[0]=(...i)=>r.toggleDropdown&&r.toggleDropdown(...i)),class:"cursor-pointer"},f(n.selectedOption?n.selectedOption:"Select Option"),1),n.selectDropdownOpen?(o(),a("ul",be,[(o(!0),a(g,null,S(c.items,(i,m)=>(o(),a("li",{class:"dropdown-item",key:m,onClick:p=>r.selectOption(i)},[s("button",{class:$(["dropdown-link",{"selected-dropdown-option":this.selectedOptionVal===i}])},[s("p",ye,f(i.sug_name),1)],2)],8,we))),128)),s("li",xe,[s("div",Pe,[U(s("input",{type:"text",placeholder:"Add custom type","onUpdate:modelValue":t[1]||(t[1]=i=>n.customValue=i)},null,512),[[z,n.customValue]]),n.customValue.trim().length>0?(o(),a("button",{key:0,class:"add_new-custom-option",onClick:t[2]||(t[2]=(...i)=>r.customType&&r.customType(...i))},ke)):j("",!0)])])])):j("",!0)]),s("div",{class:"close-icon",onClick:t[3]||(t[3]=(...i)=>r.closedropp&&r.closedropp(...i))},Ie)]),n.selectedOptionVal?(o(),a("button",{key:0,class:"btn-regular bg-white",onClick:t[4]||(t[4]=(...i)=>r.sendSelectedOption&&r.sendSelectedOption(...i))},"Submit")):j("",!0)]),s("div",{class:"overlay",onClick:t[5]||(t[5]=(...i)=>r.closedropp&&r.closedropp(...i))})],64)}const Ce=y(je,[["render",Le],["__scopeId","data-v-6889fcea"]]);const Ae={components:{Input:B,Label:G},props:{items:Array},data(){return{structureNumber:[{name:"numbers",value:"1"},{name:"abcd",value:"A"}]}},methods:{deleteItem(e){this.$emit("deleteItem",e)},enterStructureLevel(e,t){this.$emit("enterStructureLevel",e,t)},handleCheck(e,t){this.$emit("handleCheck",e,t)}}},C=e=>(I("data-v-c5331af6"),e=e(),L(),e),Oe={class:"w-full all-child-border-t"},Be={class:"padding-x_32px Sm_padding-x_28px Mobile_padding-x_24px Sm_padding-y_18px Mobile_padding-y_16px padding-y_24px"},Ge={class:"display-flex align-center justify-between w-100 gap-12px"},Fe={class:"text-xl_semibold color-Grey_90"},Ee={class:"icon-btn icon-btn_32px custom-dropdown"},Ne=C(()=>s("img",{src:W},null,-1)),Ve={class:"custom-dropdown-list leftside icon-dropdown"},Me=["onClick"],Te=C(()=>s("div",{class:"dropdown-link"},[s("img",{src:Z}),s("p",{class:"dropdown-link-title required"}," Delete Structure ")],-1)),Ue=[Te],ze={class:"display-flex gap-8px margin-top_8px"},qe=C(()=>s("p",{class:"color-Grey_50 text-base_regular"},"Structure Parent:-",-1)),He={class:"color-Grey_90 text-base_semibold"},Ke={class:"padding-x_32px Sm_padding-x_28px Mobile_padding-x_24px Sm_padding-y_18px Mobile_padding-y_16px padding-y_24px"},Je={class:"address-form"},Re={class:"space-y-8px"},We=C(()=>s("div",null,null,-1)),Ze={class:"col-span-2 space-y-16px"},Qe={class:"display-flex align-center gap-24px"},Xe=["checked","onChange","name","id"],Ye=["for"];function et(e,t,c,l,n,r){const i=_("Label"),m=_("Input");return o(!0),a(g,null,S(c.items,(p,u)=>(o(),a("div",{class:"w-full border border-solid border-Grey_20 rounded-regualr bg-white",key:u},[s("div",Oe,[s("div",Be,[s("div",Ge,[s("h4",Fe,f(p.structure_name),1),s("button",Ee,[Ne,s("ul",Ve,[s("li",{class:"dropdown-item",onClick:d=>r.deleteItem(u)},Ue,8,Me)])])]),s("div",ze,[qe,s("p",He,f(p.structure_parent),1)])]),s("div",Ke,[s("div",Je,[s("div",Re,[v(i,{label:"Structure Levels_"+u},null,8,["label"]),v(m,{placeholder:"Enter Structure Levels",id:"Structure Levels_"+u,type:"number",value:p.structure_levels,onInput:d=>r.enterStructureLevel(u,d)},null,8,["id","value","onInput"])]),We,s("div",Ze,[v(i,{label:"Select Structure number"}),s("div",Qe,[(o(!0),a(g,null,S(n.structureNumber,(d,b)=>(o(),a("div",{class:"display-flex align-center gap-12px custom-toogle-btn",key:b},[s("input",{type:"radio",class:"form-toogle-btn",checked:p.structure_number===d.value,onChange:D=>r.handleCheck(u,d.value),name:e.radio+"_"+u,id:d.name+e._+b+e._+u},null,40,Xe),s("label",{class:"text-capitalize text-large_semibold color-Grey_90",for:d.name+e._+b+e._+u},f(d.name),9,Ye)]))),128))])])])])])]))),128)}const tt=y(Ae,[["render",et],["__scopeId","data-v-c5331af6"]]),O="https://devapi.billionbuild.com",st={components:{DropDown:Ce,Input:B,Label:G,ProjectStructureBox:tt},props:{dropDownOpen:Boolean,structureParentLevel:[Number,String],structureLimit:[Number,String]},data(){return{projectId:"",projectStructureList:[],items:[],structureLevels:""}},created(){this.projectId=this.$route.params.projectId,this.getProjectDataStructure(),this.structureDetails()},computed:{structureSaveBtn(){return this.structureLimit!==this.items.length}},methods:{async getProjectDataStructure(){var e=new FormData;try{const t=await x.post(`${O}/structure-suggessions`,e);t.success===1&&(this.projectStructureList=t.data)}catch(t){P().error(t)}},selectedStructure(e){Array.isArray(this.items)||(this.items=[]),this.projectId=this.$route.params.projectId,this.items.push({structure_name:e,structure_parent:this.structureParentLevel,structure_levels:"",project_id:this.projectId,structure_number:""}),this.$emit("dropdownClose",this.items.length)},deleteItem(e){this.items.splice(e,1),this.$emit("dropdownClose",this.items.length)},itemsClear(){this.items=[],this.$emit("dropdownClose",this.items.length)},enterStructureLevel(e,t){this.items[e].structure_levels=t.target.value},handleCheck(e,t){this.items[e].structure_number=t},async structureDetails(){if(this.projectId!=="0"){var e=new FormData;e.append("project_id",this.projectId);try{const t=await x.post(`${O}/structure-details`,e);this.items=t.data.structure,t.success===1&&this.$emit("structureCompelte",t)}catch(t){P().error(t)}}},async structureSave(){var e=JSON.stringify(this.items),t=new FormData;t.append("struct_id",""),t.append("struct_json",e);try{(await x.post(`${O}/structure-add`,t)).success===1&&this.$emit("structureSave")}catch(c){P().error(c)}},closeDropdown(){this.$emit("close_dropdown")}}},rt={class:"space-y-8px"},ot={key:0,class:"padding-x_32px Sm_padding-x_28px Mobile_padding-x_24px Sm_padding-y_18px Mobile_padding-y_16px padding-y_24px w-full border border-solid border-Grey_20 rounded-regualr bg-white"},ct={class:"w-full display-flex align-center justify-end gap-12px"},it=["disabled"];function nt(e,t,c,l,n,r){const i=_("DropDown"),m=_("ProjectStructureBox");return o(),a(g,null,[c.dropDownOpen?(o(),w(i,{key:0,items:n.projectStructureList,onOptionSelected:r.selectedStructure,onClose_dropdown:r.closeDropdown},null,8,["items","onOptionSelected","onClose_dropdown"])):j("",!0),s("div",rt,[v(m,{items:n.items,onDeleteItem:r.deleteItem,onEnterStructureLevel:r.enterStructureLevel,onHandleCheck:r.handleCheck},null,8,["items","onDeleteItem","onEnterStructureLevel","onHandleCheck"]),this.items.length>0?(o(),a("div",ot,[s("div",ct,[s("button",{class:"btn-regular",onClick:t[0]||(t[0]=(...p)=>r.itemsClear&&r.itemsClear(...p))},"Cancel"),s("button",{class:"btn-regular bg-purple color-white",disabled:r.structureSaveBtn,onClick:t[1]||(t[1]=(...p)=>r.structureSave&&r.structureSave(...p))},"Save Structure",8,it)])])):j("",!0)])],64)}const at=y(st,[["render",nt]]);const dt={props:{items:{type:Array,required:!0}},data(){return{foundInventory:null,show:[],inventoryList:[],dataArray:[],allProjectData:[]}},methods:{}},lt={key:0,class:"padding-x_24px padding-y_12px border-b border-solid border-Grey_20 list flex bg-white"},pt={class:"border border-solid bg-Grey_20 rounded-regualr overflow-hidden"},ut={class:"flex padding-x_24px padding-y_12px border-b border-solid border-Grey_20 bg-white list"},_t={class:"flex flex-wrap py-2 px-4 bg-white"},mt={class:"p-0.5"},ht={class:"text-sm_medium color-Grey_60 text-uppercase"};function vt(e,t,c,l,n,r){const i=_("buttton");return o(!0),a(g,null,S(c.items,(m,p)=>(o(),a("div",{key:p,class:"w-full min-w-[320px] max-w-96 bg-Grey_10 flex flex-col border border-solid border-Grey_20 rounded-regualr overflow-hidden h-fit"},[(o(!0),a(g,null,S(m,(u,d)=>(o(),a("div",{key:d},[u.nam?(o(),a("div",lt,[s("p",null,f(u.nam),1)])):j("",!0)]))),128)),(o(!0),a(g,null,S(m[1],(u,d)=>(o(),a("div",{key:d},[(o(!0),a(g,null,S(u,(b,D)=>(o(),a("div",{key:D,class:"p-2"},[s("div",pt,[s("ul",ut,[(o(!0),a(g,null,S(b.breadcrumb,(h,A)=>(o(),a("li",{key:A},[s("span",null,f(h),1)]))),128))]),s("div",_t,[(o(!0),a(g,null,S(b.items,(h,A)=>(o(),a("ul",{key:A},[s("li",mt,[v(i,{class:$(["btn-regular display-flex align-center gap-8px bg-opacity-15",{"bg-[#10B981] border-[#10B981]":h.inv_status===1,"bg-[#F43F5E] border-[#F43F5E]":h.inv_status===2,"bg-[#F97316] border-[#F97316]":h.inv_status===3,"bg-[#1E3A8A] border-[#1E3A8A]":h.inv_status===4,"bg-[#808080] border-[#808080]":h.inv_status===5,"bg-[#7C3AED] border-[#7C3AED]":h.inv_status===6}])},{default:k(()=>[s("div",{class:$(["ellipse-dot",{"bg-emerald":h.inv_status===1,"bg-rose":h.inv_status===2,"bg-orange":h.inv_status===3,"bg-blue":h.inv_status===4,"bg-Grey_40":h.inv_status===5,"bg-purple":h.inv_status===6}])},null,2),s("p",ht,f(h.inv_name),1)]),_:2},1032,["class"])])]))),128))])])]))),128))]))),128))]))),128)}const jt=y(dt,[["render",vt],["__scopeId","data-v-eb01691e"]]),gt="https://devapi.billionbuild.com",St={components:{ProjectPreviewBox:jt},data(){return{projectId:"",projectPreviewList:[]}},created(){this.projectId=this.$route.params.projectId,this.getProjectDataPreview()},methods:{async getProjectDataPreview(){var e=new FormData;e.append("project_id",this.projectId),e.append("status_id","");try{const t=await x.post(`${gt}/get-inv-list`,e);t.success===1&&(this.projectPreviewList=t.data,this.$emit("structurePreviewSucees"))}catch(t){P().error(t)}}}};function ft(e,t,c,l,n,r){const i=_("ProjectPreviewBox");return o(),w(i,{items:n.projectPreviewList},null,8,["items"])}const bt=y(St,[["render",ft]]);const wt={components:{Layout:M,Setps:ae,ContentSection2:J,ProjectDetails:ve,ProjectStructure:at,SettingPage:Q,ProjectPreview:bt,InventeryBoxStatus:X},data(){return{setps:[{id:1,Setp_name:"Project Details",Setp_category:"Project_Details",Status:1,success:0},{id:2,Setp_name:"Project Structure",Setp_category:"Project_Structure",Status:0,success:0},{id:3,Setp_name:"Preview",Setp_category:"Project_Preview",Status:0,success:0}],activeSetp:"Project_Details",projectId:"",selectProject:!1,structureParentLevel:"",projectLimit:"",projects:"",projectsitems:""}},mounted(){window.addEventListener("keydown",this.handleKeyDown)},created(){this.projectId=this.$route.params.projectId,document.title="Projects | Billion Build";const e=q(),t="Projects |  Billion Build",c="this is description for Projects";e.chnageTitle(t,c)},computed:{addProjectbtn(){return this.projectLimit===this.projectsitems||this.projectLimit==this.projects}},methods:{handleKeyDown(e){e.keyCode===27&&(this.selectProject=!1)},projectData(e){if(this.structureParentLevel=e.level,this.projectLimit=e.project_no_of_level,e.is_complete===1){const t=this.setps.find(l=>l.id===1),c=this.setps.find(l=>l.id===2);t&&(t.success=1),c&&(c.Status=1)}},structureCompelte(e){if(this.projects=e.data.structure.length,e.data.is_complete===1){const t=this.setps.find(l=>l.id===2),c=this.setps.find(l=>l.id===3);t&&(t.success=1),c&&(c.Status=1)}},projectAdd(e){this.projectLimit=e;const t=this.setps.find(l=>l.id===1),c=this.setps.find(l=>l.id===2);t&&(t.success=1),c&&(c.Status=1),this.activeSetp="Project_Structure"},structureSave(){const e=this.setps.find(c=>c.id===2),t=this.setps.find(c=>c.id===3);e&&(e.success=1),t&&(t.Status=1),this.activeSetp="Project_Preview"},structurePreviewSucees(){const e=this.setps.find(t=>t.id===3);e&&(e.success=1)},getSetpData(e){this.activeSetp=e.Setp_category,this.projectsitems=""},structureItems(e){this.selectProject=!1,this.projectsitems=String(e)},editStructure(){this.activeSetp="Project_Structure"},closeDropdown(){this.selectProject=!1}}},F=e=>(I("data-v-201d5b7f"),e=e(),L(),e),yt={class:"space-y-16px"},xt=F(()=>s("h4",{class:"text-base_medium color-Grey_90 capitalize"},"Create New Project",-1)),Pt={class:"details-content sticky"},Dt=F(()=>s("h6",{class:"color-Grey_90 text-xl_semibold"},"Add Project Structure",-1)),kt=F(()=>s("p",{class:"color-Grey_50 text-base_regular margin-top_4px"},"Manage the Project Structure that you will operate within.",-1)),$t=["disabled"],It={class:"main-content"},Lt={key:2},Ct={class:"main-content overflow-x-auto pb-5 flex gap-2"};function At(e,t,c,l,n,r){const i=_("Setps"),m=_("ProjectDetails"),p=_("ContentSection2"),u=_("ProjectStructure"),d=_("SettingPage"),b=_("ProjectPreview"),D=_("Layout");return o(),w(D,null,{default:k(()=>[s("div",yt,[xt,v(i,{items:n.setps,onSetpClick:r.getSetpData,activeOption:this.activeSetp},null,8,["items","onSetpClick","activeOption"]),n.activeSetp==="Project_Details"?(o(),w(p,{key:0,title:"project details"},{default:k(()=>[v(m,{onGetProjectData:r.projectData,onGetprojectAdd:r.projectAdd},null,8,["onGetProjectData","onGetprojectAdd"])]),_:1})):j("",!0),n.activeSetp==="Project_Structure"?(o(),w(d,{key:1},{default:k(()=>[s("div",Pt,[Dt,kt,s("button",{class:"btn-regular btn-w-full margin-top_16px",disabled:r.addProjectbtn,onClick:t[0]||(t[0]=h=>this.selectProject=!this.selectProject)},"Add Project Structure",8,$t)]),s("div",It,[v(u,{dropDownOpen:n.selectProject,structureLimit:this.projectLimit,structureParentLevel:n.structureParentLevel,onDropdownClose:r.structureItems,onStructureCompelte:r.structureCompelte,onStructureSave:r.structureSave,onCloseDropdown:r.closeDropdown},null,8,["dropDownOpen","structureLimit","structureParentLevel","onDropdownClose","onStructureCompelte","onStructureSave","onCloseDropdown"])])]),_:1})):j("",!0),n.activeSetp==="Project_Preview"?(o(),a("div",Lt,[s("div",Ct,[v(b,{onStructurePreviewSucees:r.structurePreviewSucees},null,8,["onStructurePreviewSucees"])])])):j("",!0)])]),_:1})}const Kt=y(wt,[["render",At],["__scopeId","data-v-201d5b7f"]]);export{Kt as default};
