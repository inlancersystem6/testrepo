import{_ as v,o as n,c as r,a as e,t as p,j as k,F as y,i as _,p as R,k as D,f as b,g as L,r as h,b as x,w as M,h as I}from"./index-5d175349.js";import{L as C,D as $}from"./Layout-feaff5d7.js";import{S as G}from"./SettingPage-c8848aea.js";import{_ as A,a as B}from"./trash-bad6200c.js";import{_ as P}from"./edit-51d5eb37.js";import"./OverLaye-142172c4.js";const E={props:{title:String,subTitle:String,btnText:String},methods:{btnClick(){this.$emit("btn_click")}}},F={class:"details-content"},T={class:"color-Grey_90 text-xl_semibold"},j={class:"color-Grey_50 text-base_regular margin-top_4px"};function N(t,s,i,w,c,l){return n(),r("div",F,[e("h6",T,p(i.title),1),e("p",j,p(i.subTitle),1),e("button",{class:"btn-regular btn-w-full margin-top_16px",onClick:s[0]||(s[0]=(...o)=>l.btnClick&&l.btnClick(...o))},p(i.btnText),1)])}const z=v(E,[["render",N]]);const U={props:{roleList:Array,permissionList:Array},methods:{deleteItem(t){this.$emit("delete_item",t)},editItem(t,s){this.$emit("edit_item",t,s)},editStatus(t){this.$emit("edit_status",t)},checkPermission(t,s){return t?t.split(",").includes(s.toString()):!1}}},d=t=>(R("data-v-a5dc254d"),t=t(),D(),t),V={class:"padding-y_24px padding-x_32px Sm_padding-x_28px Mobile_padding-x_24px"},q={class:"display-flex align-center justify-between w-100 gap-12px Mobile-fit_flex-column Mobile-fit_gap-6px Mobile-fit_align-start"},W={class:"display-flex align-center gap-8px Mobile-fit_justify-between Mobile-fit_w-100"},H={class:"text-xl_semibold color-Grey_90 text-capitalize"},J={class:"display-flex align-center gap-8px Mobile-fit_justify-between Mobile-fit_w-100"},K={key:0,class:"btn-regular custom-dropdown display-flex align-center gap-8px"},O=d(()=>e("div",{class:"ellipse-dot bg-emerald"},null,-1)),Q=d(()=>e("p",{class:"text-sm_medium color-Grey_60"},"Enabled",-1)),X=[O,Q],Y={key:1,class:"btn-regular custom-dropdown display-flex align-center gap-8px"},Z=d(()=>e("div",{class:"ellipse-dot bg-rose"},null,-1)),ee=d(()=>e("p",{class:"text-sm_medium color-Grey_60"},"Disabled",-1)),te=[Z,ee],se={class:"icon-btn icon-btn_32px border-Grey_20 border border-solid custom-dropdown"},oe=d(()=>e("img",{src:A},null,-1)),ie={class:"custom-dropdown-list leftside icon-dropdown"},le=["onClick"],ne=d(()=>e("div",{class:"dropdown-link"},[e("img",{src:P}),e("p",{class:"dropdown-link-title"}," Edit Role ")],-1)),re=[ne],de=["onClick"],ae=d(()=>e("div",{class:"dropdown-link"},[e("img",{src:B}),e("p",{class:"dropdown-link-title required"},"Delete Role ")],-1)),ce=[ae],_e=["onClick"],pe=d(()=>e("div",{class:"dropdown-link"},[e("p",{class:"w20"}),e("p",{class:"dropdown-link-title"}," Enable ")],-1)),me=[pe],ue=["onClick"],he=d(()=>e("div",{class:"dropdown-link"},[e("p",{class:"w20"}),e("p",{class:"dropdown-link-title"}," Disable ")],-1)),ge=[he],be=d(()=>e("p",{class:"margin-top_4px Mobile-fit_margin-top_12px text-base_regular color-Grey_50"}," Available Roles at our Panel",-1)),xe={key:0,class:"padding-y_24px padding-x_32px Sm_padding-x_28px Mobile_padding-x_24px border-t border-solid border-Grey_20"},fe=d(()=>e("p",{class:"no-conetnt-show-section"},"No Any Module",-1)),ye=[fe],we={class:"padding-y_18px padding-x_32px Sm_padding-x_28px Mobile_padding-x_24px border-t border-solid border-Grey_20 display-flex align-center gap-18px Lg_flex-wrap"},ke={class:"text-small_semibold color-Grey_50 text-capitalize w_140px"},ve={class:"display-flex align-center gap-18px justify-between Md_w-100 Mobile_grid-cols-2 Mobile_display-grid"},Le={class:"custom-toogle-btn display-flex align-center gap-8px"},Me=["checked","id"],Se=["id"];function Re(t,s,i,w,c,l){return n(!0),r(y,null,k(i.roleList,o=>(n(),r("li",{class:"w-full rounded-regualr bg-white border border-Grey_20 border-solid",key:o.id},[e("div",V,[e("div",q,[e("div",W,[e("h2",H,p(o.role_name),1)]),e("div",J,[o.role_status===!0?(n(),r("button",K,X)):_("",!0),o.role_status===!1?(n(),r("button",Y,te)):_("",!0),e("button",se,[oe,e("ul",ie,[e("li",{class:"dropdown-item",onClick:a=>l.editItem(o.role_id,o.role_name)},re,8,le),e("li",{class:"dropdown-item",onClick:a=>l.deleteItem(o.role_id)},ce,8,de),o.role_status===!1?(n(),r("li",{key:0,class:"dropdown-item",onClick:a=>l.editStatus(o.role_id)},me,8,_e)):_("",!0),o.role_status===!0?(n(),r("li",{key:1,class:"dropdown-item",onClick:a=>l.editStatus(o.role_id)},ge,8,ue)):_("",!0)])])])]),be]),i.permissionList===null||i.permissionList==="null"||!i.permissionList||i.permissionList.length===0?(n(),r("div",xe,ye)):_("",!0),(n(!0),r(y,null,k(i.permissionList,(a,m)=>(n(),r("div",{key:m},[e("div",we,[e("p",ke,p(a.name)+" permission:-",1),e("div",ve,[(n(!0),r(y,null,k(a.permissions,(g,u)=>(n(),r("div",{key:u,class:"img-not-selected cursor-no-drop"},[e("div",Le,[e("input",{type:"checkbox",class:"form-toogle-btn cursor-no-drop",checked:l.checkPermission(o.role_permission,g.permission_id),id:o.role_id+"_"+m+"_"+u,disabled:""},null,8,Me),e("label",{class:"text-capitalize text-large_semibold color-Grey_90 cursor-no-drop",id:o.role_id+"_"+m+"_"+u},p(g.permission_name),9,Se)])]))),128))])])]))),128))]))),128)}const De=v(U,[["render",Re],["__scopeId","data-v-a5dc254d"]]),f="https://devapi.billionbuild.com",Ie={components:{Layout:C,SettingPage:G,PageDetail:z,RoleBox:De,DeleteModel:$},data(){return{roleList:[],permissionList:[],deleteItemModal:!1,itemId:""}},created(){this.featchRoleList(),this.featchPermissionList()},methods:{addRole(){this.$router.push({name:"AddRole"})},async featchRoleList(){var t=new FormData;t.append("role_id","");try{const s=await b.post(`${f}/role-list`,t);this.roleList=s.data}catch(s){console.log(s)}},async featchPermissionList(){var t=new FormData;try{const s=await b.post(`${f}/permission-list`,t);this.permissionList=s.data}catch(s){console.log(s)}},getItemId(t){this.deleteItemModal=!0,this.itemId=t},async deleteItem(){var t=new FormData;t.append("role_id",this.itemId);try{(await b.post(`${f}/remove-role`,t)).success===1&&(this.featchRoleList(),this.deleteItemModal=!1)}catch(s){L().error(s)}},async statusUpdate(t){var s=new FormData;s.append("role_id",t);try{(await b.post(`${f}/role-status`,s)).success===1&&this.featchRoleList()}catch(i){L().error(i)}},editRole(t,s){this.$router.push({name:"EditRole",params:{id:t,name:s}})}}},Ce={class:"main-content"},$e={class:"space-y-8px"};function Ge(t,s,i,w,c,l){const o=h("PageDetail"),a=h("RoleBox"),m=h("SettingPage"),g=h("Layout"),u=h("DeleteModel");return n(),r(y,null,[x(g,null,{default:M(()=>[x(m,null,{default:M(()=>[x(o,{title:"Roles and permissions",subTitle:"Control all modul roles and permissions",btnText:"Add New Roles & permissions",onBtn_click:l.addRole},null,8,["onBtn_click"]),e("div",Ce,[e("ul",$e,[x(a,{onEdit_status:l.statusUpdate,roleList:c.roleList,permissionList:c.permissionList,onDelete_item:l.getItemId,onEdit_item:l.editRole},null,8,["onEdit_status","roleList","permissionList","onDelete_item","onEdit_item"])])])]),_:1})]),_:1}),c.deleteItemModal?(n(),I(u,{key:0,model_title:"Delete Role",model_subtitle:"Are you sure you want to delete this Role?",onClose_model:s[0]||(s[0]=S=>c.deleteItemModal=!1),onDelete_item:s[1]||(s[1]=S=>l.deleteItem())})):_("",!0)],64)}const je=v(Ie,[["render",Ge]]);export{je as default};
