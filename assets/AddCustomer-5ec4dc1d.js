import{m as E,f as A,u as h,e as d,o as m,h as a,w as f,g as r,a as i,b as c,n as v,c as g,p as I,d as L}from"./index-31e5b7a2.js";import{L as x}from"./Layout-c0e45365.js";import{C as S}from"./ContentSection2-e340fc18.js";import{L as C}from"./Label-36958fc8.js";import{I as k}from"./Input-759c262f.js";import{E as F}from"./ErrorMessage-338e63f5.js";import{T as R}from"./TextArea-235706fd.js";import{_ as M}from"./noimg-c49b4ac6.js";import{_ as w}from"./plus-3-0d8d5401.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";import"./OverLaye-0858a669.js";const B="https://devapi.billionbuild.com",P={components:{Layout:x,ContentSection:S,Label:C,Input:k,ErrorMessage:F,TextArea:R},data(){return{customerFirstName:"",customerLastName:"",customerEmail:"",customerNumber:"",profilePic:"",customerAddress:"",selectedImg:"",formSubmitted:!1,isvalidEmail:!0,customerMiddleName:"",customerDob:"",customerNote:"",customerReference:"",activeAcco:"0",showErrorOfImg:""}},computed:{btnDisabled(){const s=/[!@#$%^&*()?":{}|<>]/;return!this.customerFirstName.trim()||!this.customerLastName.trim()||s.test(this.customerLastName)||!this.customerNumber.trim()||this.customerNumber.trim().length!==10||!this.isvalidEmail||!this.customerAddress.trim()||s.test(this.customerAddress)}},created(){const s=E(),e="Add Customer |  Billion Build",p="this is description for Add Customer";s.chnageTitle(e,p)},methods:{validateInputs(){const s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,e=/^[0-9]{10}$/;return!(!this.customerFirstName.trim()||!this.customerLastName||/[!@#$%^&*()?":{}|<>]/.test(this.customerLastName)||!this.customerNumber.trim()||!e.test(this.customerNumber)||!this.customerAddress.trim()||/[!@#$%^&*()?":{}|<>]/.test(this.customerAddress)||this.customerEmail.trim()!==""&&!s.test(this.customerEmail))},selectedPic(s){const e=s.target.files[0];e.type==="image/png"||e.type==="image/jpeg"||e.type==="image/gif"||e.type==="image/svg"||e.type==="image/jpg"?(this.profilePic=e,this.selectedImg=URL.createObjectURL(e),this.activeAcco=1,this.showErrorOfImg=!1):this.showErrorOfImg=!0},async addcustomer(){var s=new FormData;s.append("cus_first_name",this.customerFirstName),s.append("cus_last_name",this.customerLastName),s.append("cus_email",this.customerEmail),s.append("cus_phone_no",this.customerNumber),s.append("cus_profile",this.profilePic),s.append("cus_address",this.customerAddress),s.append("cus_middle_name",this.customerMiddleName),s.append("cus_dob",this.customerDob),s.append("cus_notes",this.customerNote),s.append("cus_ref",this.customerReference);try{const e=await A.post(`${B}/add-or-edit-customer`,s);e.success===1?this.$router.push({name:"CustomerList"}):h().error(e.message)}catch(e){h().error(e)}},toggleAccordion(s){this.activeAcco===s?this.activeAcco=null:this.activeAcco=s}}},O=s=>(I("data-v-ce44e44f"),s=s(),L(),s),T={class:"row"},j={class:"col-8"},U={class:"address-form"},V={class:"space-y-8px"},z={class:"space-y-8px"},W={class:"space-y-8px"},q={class:"space-y-8px"},G={class:"space-y-8px"},H={class:"space-y-8px"},J={class:"space-y-8px"},K={class:"space-y-8px col-span-2"},Q={class:"space-y-8px col-span-2"},X=["disabled"],Y={class:"col-2"},Z={class:"user_pic"},$=["src"],ee={key:1,src:M,class:"pic"},te={class:"add_pic",for:"customer-pic"},se=O(()=>i("img",{src:w},null,-1));function oe(s,e,p,re,t,_){const l=d("Label"),u=d("Input"),n=d("ErrorMessage"),N=d("TextArea"),b=d("ContentSection"),y=d("Layout");return m(),a(y,null,{default:f(()=>[r(b,{title:"Add Customer"},{default:f(()=>[i("div",T,[i("div",j,[i("div",U,[i("div",V,[r(l,{label:"First Name"}),r(u,{placeholder:"Enter customer First Name",id:"First Name",value:t.customerFirstName,onInput:e[0]||(e[0]=o=>t.customerFirstName=o.target.value)},null,8,["value"]),!t.customerFirstName&&t.formSubmitted?(m(),a(n,{key:0,msg:""})):c("",!0)]),i("div",z,[r(l,{label:"Middle Name (optional)"}),r(u,{placeholder:"Enter customer Middle Name",id:"Middle Name (optional)",value:t.customerMiddleName,onInput:e[1]||(e[1]=o=>t.customerMiddleName=o.target.value)},null,8,["value"])]),i("div",W,[r(l,{label:"Last Name"}),r(u,{placeholder:"Enter customer Last Name",id:"Last Name",value:t.customerLastName,onInput:e[2]||(e[2]=o=>t.customerLastName=o.target.value)},null,8,["value"]),!t.customerLastName&&t.formSubmitted?(m(),a(n,{key:0,msg:""})):c("",!0)]),i("div",q,[r(l,{label:"Email (optional)"}),r(u,{placeholder:"Enter customer Email",id:"Email (optional)",value:t.customerEmail,onInput:e[3]||(e[3]=o=>{t.customerEmail=o.target.value,t.isvalidEmail=s.validateEmail()}),class:v({input_error:!t.isvalidEmail})},null,8,["value","class"]),t.isvalidEmail?c("",!0):(m(),a(n,{key:0,msg:"Invalid email"})),!t.customerEmail&&t.formSubmitted?(m(),a(n,{key:1,msg:""})):c("",!0)]),i("div",G,[r(l,{label:"Phone No."}),r(u,{placeholder:"Enter customer Number",id:"Phone No.",value:t.customerNumber,onInput:e[4]||(e[4]=o=>t.customerNumber=o.target.value),type:"number",class:v({input_error:t.customerNumber.length>10})},null,8,["value","class"]),!t.customerNumber&&t.formSubmitted?(m(),a(n,{key:0,msg:""})):c("",!0),t.customerNumber.length>10?(m(),a(n,{key:1,msg:"Only 10 number valid"})):c("",!0)]),i("div",H,[r(l,{label:"Date Of Birth (optional)"}),r(u,{id:"Date Of Birth (optional)",value:t.customerDob,onInput:e[5]||(e[5]=o=>t.customerDob=o.target.value),type:"date"},null,8,["value"])]),i("div",J,[r(l,{label:"Reference (optional)"}),r(u,{id:"Reference (optional)",placeholder:"Enter customer Reference",value:t.customerReference,onInput:e[6]||(e[6]=o=>t.customerReference=o.target.value),type:"text"},null,8,["value"])]),i("div",K,[r(l,{label:"Address"}),r(u,{id:"Address",placeholder:"Enter customer Address",value:t.customerAddress,onInput:e[7]||(e[7]=o=>t.customerAddress=o.target.value),type:"text"},null,8,["value"]),!t.customerAddress&&t.formSubmitted?(m(),a(n,{key:0,msg:""})):c("",!0)]),i("div",Q,[r(l,{label:"Note (optional)"}),r(N,{placeholder:"Enter customer Note",id:"Note (optional)",value:t.customerNote,onInput:e[8]||(e[8]=o=>t.customerNote=o.target.value)},null,8,["value"])]),i("button",{type:"submit",class:"btn-regular margin-top_8px",disabled:_.btnDisabled,onClick:e[9]||(e[9]=o=>_.addcustomer())},"Save",8,X)])]),i("div",Y,[i("div",Z,[t.selectedImg?(m(),g("img",{key:0,src:this.selectedImg,class:"pic"},null,8,$)):c("",!0),t.selectedImg?c("",!0):(m(),g("img",ee)),i("label",te,[i("input",{type:"file",id:"customer-pic",onChange:e[10]||(e[10]=(...o)=>_.selectedPic&&_.selectedPic(...o))},null,32),se])])])])]),_:1})]),_:1})}const fe=D(P,[["render",oe],["__scopeId","data-v-ce44e44f"]]);export{fe as default};
