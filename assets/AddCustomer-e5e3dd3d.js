import{_ as E,u as A,f as L,g as _,r as d,o as m,h as a,w as b,b as o,a as i,i as l,n as v,c as N,p as I,k as x}from"./index-5d175349.js";import{L as k}from"./Layout-feaff5d7.js";import{C}from"./ContentSection2-cea15362.js";import{L as F}from"./Label-d788184e.js";import{I as S}from"./Input-d28165ea.js";import{E as V}from"./ErrorMessage-d5a29056.js";import{T as R}from"./TextArea-d58f5809.js";import{_ as D}from"./noimg-c49b4ac6.js";import{_ as M}from"./plus-3-0d8d5401.js";import"./OverLaye-142172c4.js";const w="https://devapi.billionbuild.com",P={components:{Layout:k,ContentSection:C,Label:F,Input:S,ErrorMessage:V,TextArea:R},data(){return{breadcrumbList:[{name:"Dashboard",link:"/"},{name:"Customers",link:"/customerlist"},{name:"Add Customer"}],customerFirstName:"",customerLastName:"",customerEmail:"",customerNumber:"",profilePic:"",customerAddress:"",selectedImg:"",formSubmitted:!1,customerMiddleName:"",customerDob:"",customerNote:"",customerReference:"",activeAcco:"0",showErrorOfImg:"",isvalidEmail:!0,isValidFirstName:!0,isValidLastName:!0,isValidNumber:!0,isValidAddress:!0}},computed:{btnDisabled(){const t=/[!@#$%^&*()?":{}|<>]/;return!this.customerFirstName.trim()||!this.customerLastName.trim()||t.test(this.customerLastName)||!this.customerNumber.trim()||isNaN(this.customerNumber)||this.customerNumber.trim().length!==10||!this.isvalidEmail||!this.customerAddress.trim()||t.test(this.customerAddress)}},created(){const t=A(),s="Add Customer |  Billion Build",h="this is description for Add Customer";t.chnageTitle(s,h)},methods:{validateField(t){const s=/[!@#$%^&*()?":{}|<>]/;return t.trim()===""||!s.test(t)},validateEmail(){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return this.customerEmail.trim()===""||t.test(this.customerEmail)?(this.isvalidEmail=!0,!0):(this.isvalidEmail=!1,!1)},validatePhoneNumber(){return this.customerNumber.trim()===""||this.customerNumber.length===10&&/^\d+$/.test(this.customerNumber)?(this.isValidNumber=!0,!0):(this.isValidNumber=!1,!1)},selectedPic(t){const s=t.target.files[0];s.type==="image/png"||s.type==="image/jpeg"||s.type==="image/gif"||s.type==="image/svg"||s.type==="image/jpg"?(this.profilePic=s,this.selectedImg=URL.createObjectURL(s),this.activeAcco=1,this.showErrorOfImg=!1):this.showErrorOfImg=!0},async addcustomer(){var t=new FormData;t.append("cus_first_name",this.customerFirstName),t.append("cus_last_name",this.customerLastName),t.append("cus_email",this.customerEmail),t.append("cus_phone_no",this.customerNumber),t.append("cus_profile",this.profilePic),t.append("cus_address",this.customerAddress),t.append("cus_middle_name",this.customerMiddleName),t.append("cus_dob",this.customerDob),t.append("cus_notes",this.customerNote),t.append("cus_ref",this.customerReference);try{const s=await L.post(`${w}/add-or-edit-customer`,t);s.success===1?this.$router.push({name:"CustomerList"}):_().error(s.message)}catch(s){_().error(s)}},toggleAccordion(t){this.activeAcco===t?this.activeAcco=null:this.activeAcco=t}}},B=t=>(I("data-v-b1041f9e"),t=t(),x(),t),O={class:"row"},T={class:"col-8"},q={class:"address-form"},j={class:"space-y-8px"},U={class:"space-y-8px"},z={class:"space-y-8px"},W={class:"space-y-8px"},G={class:"space-y-8px"},H={class:"space-y-8px"},J={class:"space-y-8px"},K={class:"space-y-8px col-span-2"},Q={class:"space-y-8px col-span-2"},X=["disabled"],Y={class:"col-2"},Z={class:"user_pic"},$=["src"],ee={key:1,src:D,class:"pic"},se={class:"add_pic",for:"customer-pic"},te=B(()=>i("img",{src:M},null,-1));function re(t,s,h,oe,e,p){const c=d("Label"),n=d("Input"),u=d("ErrorMessage"),f=d("TextArea"),g=d("ContentSection"),y=d("Layout");return m(),a(y,{breadcrumb:e.breadcrumbList},{default:b(()=>[o(g,{title:"Add Customer"},{default:b(()=>[i("div",O,[i("div",T,[i("div",q,[i("div",j,[o(c,{label:"First Name",required:""}),o(n,{placeholder:"Enter customer First Name",id:"First Name",value:e.customerFirstName,onInput:s[0]||(s[0]=r=>{e.customerFirstName=r.target.value,e.isValidFirstName=this.validateField(this.customerFirstName)})},null,8,["value"]),e.isValidFirstName?l("",!0):(m(),a(u,{key:0,msg:"First name cannot contain special characters"})),!e.customerFirstName&&e.formSubmitted?(m(),a(u,{key:1,msg:""})):l("",!0)]),i("div",U,[o(c,{label:"Middle Name (optional)"}),o(n,{placeholder:"Enter customer Middle Name",id:"Middle Name (optional)",value:e.customerMiddleName,onInput:s[1]||(s[1]=r=>e.customerMiddleName=r.target.value)},null,8,["value"])]),i("div",z,[o(c,{label:"Last Name",required:""}),o(n,{placeholder:"Enter customer Last Name",id:"Last Name",value:e.customerLastName,onInput:s[2]||(s[2]=r=>{e.customerLastName=r.target.value,e.isValidLastName=this.validateField(this.customerLastName)})},null,8,["value"]),e.isValidLastName?l("",!0):(m(),a(u,{key:0,msg:"Last name cannot contain special characters"})),!e.customerLastName&&e.formSubmitted?(m(),a(u,{key:1,msg:""})):l("",!0)]),i("div",W,[o(c,{label:"Email (optional)"}),o(n,{placeholder:"Enter customer Email",id:"Email (optional)",value:e.customerEmail,onInput:s[3]||(s[3]=r=>{e.customerEmail=r.target.value,e.isvalidEmail=p.validateEmail()}),class:v({input_error:!e.isvalidEmail})},null,8,["value","class"]),e.isvalidEmail?l("",!0):(m(),a(u,{key:0,msg:"Invalid email"})),!e.customerEmail&&e.formSubmitted?(m(),a(u,{key:1,msg:""})):l("",!0)]),i("div",G,[o(c,{label:"Phone No.",required:""}),o(n,{placeholder:"Enter customer Number",id:"Phone No.",value:e.customerNumber,onInput:s[4]||(s[4]=r=>e.customerNumber=r.target.value),type:"text",class:v({input_error:e.customerNumber.length>10})},null,8,["value","class"]),!e.customerNumber&&e.formSubmitted?(m(),a(u,{key:0,msg:""})):l("",!0),e.customerNumber&&isNaN(e.customerNumber)?(m(),a(u,{key:1,msg:"Enter only number"})):l("",!0),e.customerNumber&&e.customerNumber.length>10?(m(),a(u,{key:2,msg:"Only 10 numbers valid"})):l("",!0)]),i("div",H,[o(c,{label:"Date Of Birth (optional)"}),o(n,{id:"Date Of Birth (optional)",value:e.customerDob,onInput:s[5]||(s[5]=r=>e.customerDob=r.target.value),type:"date"},null,8,["value"])]),i("div",J,[o(c,{label:"Reference (optional)"}),o(n,{id:"Reference (optional)",placeholder:"Enter customer Reference",value:e.customerReference,onInput:s[6]||(s[6]=r=>e.customerReference=r.target.value),type:"text"},null,8,["value"])]),i("div",K,[o(c,{label:"Address",required:""}),o(n,{id:"Address",placeholder:"Enter customer Address",value:e.customerAddress,onInput:s[7]||(s[7]=r=>{e.customerAddress=r.target.value,e.isValidAddress=this.validateField(this.customerAddress)}),type:"text"},null,8,["value"]),!e.customerAddress&&e.formSubmitted?(m(),a(u,{key:0,msg:""})):l("",!0),e.isValidAddress?l("",!0):(m(),a(u,{key:1,msg:"Address cannot contain special characters"}))]),i("div",Q,[o(c,{label:"Note (optional)"}),o(f,{placeholder:"Enter customer Note",id:"Note (optional)",value:e.customerNote,onInput:s[8]||(s[8]=r=>e.customerNote=r.target.value)},null,8,["value"])]),i("button",{type:"submit",class:"btn-regular margin-top_8px",disabled:p.btnDisabled,onClick:s[9]||(s[9]=r=>p.addcustomer())},"Save",8,X)])]),i("div",Y,[i("div",Z,[e.selectedImg?(m(),N("img",{key:0,src:this.selectedImg,class:"pic"},null,8,$)):l("",!0),e.selectedImg?l("",!0):(m(),N("img",ee)),i("label",se,[i("input",{type:"file",id:"customer-pic",onChange:s[10]||(s[10]=(...r)=>p.selectedPic&&p.selectedPic(...r))},null,32),te])])])])]),_:1})]),_:1},8,["breadcrumb"])}const _e=E(P,[["render",re],["__scopeId","data-v-b1041f9e"]]);export{_e as default};
