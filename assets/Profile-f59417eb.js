import{L as P}from"./Layout-feaff5d7.js";import{_ as L,u as E,f as k,g as x,q as S,r as u,o as i,h as n,w as y,b as a,a as r,i as o,n as _,c as f,d as C,p as F,k as I}from"./index-5d175349.js";import{L as w}from"./Label-d788184e.js";import{I as A}from"./Input-d28165ea.js";import{T as D}from"./TextArea-d58f5809.js";import{C as V}from"./ContentSection2-cea15362.js";import{E as B}from"./ErrorMessage-d5a29056.js";import{_ as U}from"./noimg-c49b4ac6.js";import{_ as q}from"./plus-c82c2a30.js";import"./OverLaye-142172c4.js";const R="https://devapi.billionbuild.com",T={components:{Layout:P,Label:w,Input:A,ErrorMessage:B,ContentSection2:V,TextArea:D},data(){return{breadcrumbList:[{name:"Dashboard",link:"/"},{name:"Profile"}],profileFirstName:"",profileLastName:"",profileEmail:"",profileNo:"",formSubmitted:!1,isvalidEmail:!0,editProfile:!1,profileDetails:!0,profilePic:"",selectedImg:"",companyName:"",companyPhoneNo:"",companyAddress:"",profilesaveLoader:!1,profilenotsaved:!0,profilesaved:!1,isValidProfileFirstName:!0,isValidProfileLastName:!0}},computed:{profileBtnDis(){const s=/[!@#$%^&*()?":{}|<>]/;return!this.profileFirstName||!this.profileFirstName.trim()||s.test(this.profileFirstName)||!this.profileLastName||!this.profileLastName.trim()||s.test(this.profileLastName)||!this.profileEmail||!this.profileEmail.trim()||!this.profileNo||this.profileNo.trim().length!==10||!this.isvalidEmail||!this.companyPhoneNo||isNaN(this.companyPhoneNo)||this.companyPhoneNo.trim().length!==10||!this.companyName||!this.companyName.trim()||!this.companyAddress||!this.companyAddress.trim()||s.test(this.operationNote)}},created(){this.getprofileData();const s=E(),t="Profile |  Billion Build",h="this is description for Profile";s.chnageTitle(t,h)},methods:{validateField(s){const t=/[!@#$%^&*()?":{}|<>]/;return s.trim()===""||!t.test(s)},validateEmail(){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.profileEmail)},async getprofileData(){var s=new FormData;try{const t=await k.post(`${R}/user-profile`,s);this.profileFirstName=t.data.user_first_name,this.profileLastName=t.data.user_last_name,this.profileEmail=t.data.user_email,this.profileNo=t.data.user_mobile_number,this.profilePic=t.data.user_profile_pic,this.companyName=t.data.company_name,this.companyAddress=t.data.company_address,this.companyPhoneNo=t.data.company_phone_no,localStorage.setItem("user_details",JSON.stringify(t.data))}catch(t){x().error(t)}},selectedPic(s){const t=s.target.files[0];(t.type==="image/png"||t.type==="image/jpeg"||t.type==="image/gif"||t.type==="image/svg"||t.type==="image/jpg")&&(this.profilePic=t,this.selectedImg=URL.createObjectURL(t))},async profileDataUpdate(){const s=S();await s.Updated(this.profileFirstName,this.profileLastName,this.profileEmail,this.profilePic,this.profileNo,this.companyName,this.companyAddress,this.companyPhoneNo),await this.getprofileData(),this.profilePic?s.updateProfilePicUrl(this.profilePic):s.updateProfilePicUrl("")}}},N=s=>(F("data-v-c249750c"),s=s(),I(),s),j={class:"flex items-start w-full flex-wrap"},M={class:"address-form w-3/4"},O={class:"space-y-8px"},z={class:"space-y-8px"},J={class:"space-y-8px"},W={class:"space-y-8px"},G={class:"space-y-8px"},H={class:"space-y-8px"},K={class:"space-y-8px col-span-2"},Q={class:"w-1/4"},X={class:"edit_profile_pic"},Y=["src"],Z=["src"],$={key:2,src:U},ee={class:"upload_pic"},te=N(()=>r("img",{src:q},null,-1)),se={class:"w-full mt-4"},ie=["disabled"],oe={key:0},re={key:1,class:"flex items-center gap-1"},le=N(()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[r("path",{d:"M20.25 6.75L9.75 17.25L4.5 12",class:"stroke-green-500","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1));function ae(s,t,h,ne,e,p){const c=u("Label"),d=u("Input"),m=u("ErrorMessage"),g=u("TextArea"),v=u("ContentSection2"),b=u("Layout");return i(),n(b,{breadcrumb:e.breadcrumbList},{default:y(()=>[a(v,{title:"profile"},{default:y(()=>[r("form",j,[r("div",M,[r("div",O,[a(c,{label:"First Name",required:""}),a(d,{placeholder:"Enter First Name",id:"First Name",value:e.profileFirstName,onInput:t[0]||(t[0]=l=>{e.profileFirstName=l.target.value,e.isValidProfileFirstName=p.validateField(this.profileFirstName)})},null,8,["value"]),!e.profileFirstName&&e.formSubmitted?(i(),n(m,{key:0,msg:""})):o("",!0),e.isValidProfileFirstName?o("",!0):(i(),n(m,{key:1,msg:"First name cannot contain special characters"}))]),r("div",z,[a(c,{label:"Last Name",required:""}),a(d,{placeholder:"Enter Last Name",id:"Last Name",value:e.profileLastName,onInput:t[1]||(t[1]=l=>{e.profileLastName=l.target.value,e.isValidProfileLastName=p.validateField(this.profileLastName)})},null,8,["value"]),!e.profileLastName&&e.formSubmitted?(i(),n(m,{key:0,msg:""})):o("",!0),e.isValidProfileLastName?o("",!0):(i(),n(m,{key:1,msg:"Last name cannot contain special characters"}))]),r("div",J,[a(c,{label:"email",required:""}),a(d,{placeholder:"Enter email",id:"email",value:e.profileEmail,type:"email",onInput:t[2]||(t[2]=l=>{e.profileEmail=l.target.value,e.isvalidEmail=p.validateEmail()}),class:_({input_error:!e.isvalidEmail})},null,8,["value","class"]),e.isvalidEmail?o("",!0):(i(),n(m,{key:0,msg:"Invalid email"})),!e.profileEmail&&e.formSubmitted?(i(),n(m,{key:1,msg:""})):o("",!0)]),r("div",W,[a(c,{label:"Phone no.",required:""}),a(d,{placeholder:"Enter Phone no.",id:"Phone no.",value:e.profileNo,type:"number",onInput:t[3]||(t[3]=l=>e.profileNo=l.target.value),disabled:""},null,8,["value"]),!e.profileNo&&e.formSubmitted?(i(),n(m,{key:0,msg:""})):o("",!0),e.profileNo.length>10?(i(),n(m,{key:1,msg:"Only 10 number valid"})):o("",!0)]),r("div",G,[a(c,{label:"Company name",required:""}),a(d,{placeholder:"Enter Company name",id:"Company name",value:e.companyName,onInput:t[4]||(t[4]=l=>e.companyName=l.target.value)},null,8,["value"]),!e.companyName&&e.formSubmitted?(i(),n(m,{key:0,msg:""})):o("",!0)]),r("div",H,[a(c,{label:"Company phone no.",required:""}),a(d,{placeholder:"Enter Company phone no.",id:"Company phone no.",value:e.companyPhoneNo,onInput:t[5]||(t[5]=l=>e.companyPhoneNo=l.target.value),type:"text"},null,8,["value"]),!e.companyPhoneNo&&e.formSubmitted?(i(),n(m,{key:0,msg:""})):o("",!0),e.companyPhoneNo&&isNaN(e.companyPhoneNo)?(i(),n(m,{key:1,msg:"Enter only number"})):o("",!0),e.companyPhoneNo&&e.companyPhoneNo.length>10?(i(),n(m,{key:2,msg:"Only 10 numbers valid"})):o("",!0)]),r("div",K,[a(c,{label:"Company Address",required:""}),a(g,{placeholder:"Enter Company Address",id:"Company Address",value:e.companyAddress,onInput:t[6]||(t[6]=l=>e.companyAddress=l.target.value),type:"number"},null,8,["value"]),!e.companyAddress&&e.formSubmitted?(i(),n(m,{key:0,msg:""})):o("",!0)])]),r("div",Q,[r("div",X,[this.selectedImg?(i(),f("img",{key:0,src:this.selectedImg},null,8,Y)):o("",!0),this.profilePic?(i(),f("img",{key:1,src:this.profilePic},null,8,Z)):o("",!0),!this.selectedImg&&!this.profilePic?(i(),f("img",$)):o("",!0),r("div",ee,[te,r("input",{type:"file",onChange:t[7]||(t[7]=(...l)=>p.selectedPic&&p.selectedPic(...l))},null,32)])])]),r("div",se,[r("button",{class:_(["btn-regular",{"is-loading":e.profilesaveLoader}]),type:"submit",onClick:t[8]||(t[8]=(...l)=>p.profileDataUpdate&&p.profileDataUpdate(...l)),disabled:p.profileBtnDis},[e.profilenotsaved?(i(),f("span",oe,"Save")):o("",!0),e.profilesaved?(i(),f("span",re,[C(" Saved "),le])):o("",!0)],10,ie)])])]),_:1})]),_:1},8,["breadcrumb"])}const ge=L(T,[["render",ae],["__scopeId","data-v-c249750c"]]);export{ge as default};
