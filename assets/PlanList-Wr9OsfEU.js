import{o as a,c as r,F as h,m as v,r as i,e as g,a as t,t as m,h as l,i as c,T as E,n as P,g as C,p as M,j as L,u as V,k as j,l as S,d as T}from"./index-rUHQi0PA.js";import{I as G,g as $,S as N,b as U,L as A,D as H}from"./Layout-KiF4WUBz.js";import{C as Z,P as z,S as W,_ as q}from"./no-data-YHnAfvb-.js";import{_ as B}from"./_plugin-vue_export-helper-x3n3nnut.js";import{_ as J}from"./debounce-kLFqGWrs.js";import{_ as K}from"./plus-3-IrXEu7nV.js";import"./OverLaye-Atv8c0rd.js";import"./_commonjsHelpers-5-cIlDoe.js";const O={components:{Menu:G,MenuButton:$,MenuItems:N,MenuItem:U},props:{list:Array,loading:Boolean},methods:{deleteItem(e){this.$emit("delete_item",e)},editItem(e){this.$emit("edit_item",e)}}},u=e=>(M("data-v-e59f3e0a"),e=e(),L(),e),Q=u(()=>t("td",{class:"count skeleton-element"},null,-1)),R=u(()=>t("td",{class:"name skeleton-element"},null,-1)),X=u(()=>t("td",{class:"type skeleton-element"},null,-1)),Y=u(()=>t("td",{class:"cost skeleton-element"},null,-1)),tt=u(()=>t("td",{class:"validity skeleton-element"},null,-1)),et=u(()=>t("td",{class:"skeleton-element w-8"},null,-1)),st=[Q,R,X,Y,tt,et],ot={key:0},nt={class:"count"},at={class:"name"},lt={class:"type"},rt={class:"cost"},it={class:"validity"},ct={class:"action"},dt=u(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[t("path",{d:"M10 10.75C10.4142 10.75 10.75 10.4142 10.75 10C10.75 9.58579 10.4142 9.25 10 9.25C9.58579 9.25 9.25 9.58579 9.25 10C9.25 10.4142 9.58579 10.75 10 10.75Z",stroke:"#6B7280","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M15.833 10.75C16.2472 10.75 16.583 10.4142 16.583 10C16.583 9.58579 16.2472 9.25 15.833 9.25C15.4188 9.25 15.083 9.58579 15.083 10C15.083 10.4142 15.4188 10.75 15.833 10.75Z",stroke:"#6B7280","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M4.16699 10.75C4.58121 10.75 4.91699 10.4142 4.91699 10C4.91699 9.58579 4.58121 9.25 4.16699 9.25C3.75278 9.25 3.41699 9.58579 3.41699 10C3.41699 10.4142 3.75278 10.75 4.16699 10.75Z",stroke:"#6B7280","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),ut={class:"px-1 py-1"},pt=["onClick"],_t=u(()=>t("span",{class:"min-w-[18px] max-w-[18px] min-h-[18px] max-h-[18px]"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 20 20",fill:"none"},[t("path",{d:"M9 3H4.55556C4.143 3 3.74733 3.16389 3.45561 3.45561C3.16389 3.74733 3 4.143 3 4.55556V15.4444C3 15.857 3.16389 16.2527 3.45561 16.5444C3.74733 16.8361 4.143 17 4.55556 17H15.4444C15.857 17 16.2527 16.8361 16.5444 16.5444C16.8361 16.2527 17 15.857 17 15.4444V11",stroke:"#6B7280","stroke-width":"1.4667","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M14.4356 3.43999C14.7173 3.15827 15.0994 3 15.4978 3C15.8962 3 16.2783 3.15827 16.56 3.43999C16.8417 3.72171 17 4.1038 17 4.50221C17 4.90062 16.8417 5.28272 16.56 5.56443L9.8326 12.2919L7 13L7.70815 10.1674L14.4356 3.43999Z",stroke:"#6B7280","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),ht={class:"px-1 py-1"},mt=["onClick"],gt=u(()=>t("span",{class:"min-w-[18px] max-w-[18px] min-h-[18px] max-h-[18px]"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none"},[t("path",{d:"M20.25 5.25H3.75",stroke:"#F43F5E","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M9.75 9.75V15.75",stroke:"#F43F5E","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M14.25 9.75V15.75",stroke:"#F43F5E","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M18.75 5.25V19.5C18.75 19.6989 18.671 19.8897 18.5303 20.0303C18.3897 20.171 18.1989 20.25 18 20.25H6C5.80109 20.25 5.61032 20.171 5.46967 20.0303C5.32902 19.8897 5.25 19.6989 5.25 19.5V5.25",stroke:"#F43F5E","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M15.75 5.25V3.75C15.75 3.35218 15.592 2.97064 15.3107 2.68934C15.0294 2.40804 14.6478 2.25 14.25 2.25H9.75C9.35218 2.25 8.97064 2.40804 8.68934 2.68934C8.40804 2.97064 8.25 3.35218 8.25 3.75V5.25",stroke:"#F43F5E","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1));function ft(e,s,f,F,o,n){const y=i("MenuButton"),k=i("MenuItem"),w=i("MenuItems"),b=i("Menu");return a(),r(h,null,[(a(),r(h,null,v(8,(d,_)=>(a(),r(h,null,[f.loading?(a(),r("tr",{key:_},st)):g("",!0)],64))),64)),(a(!0),r(h,null,v(f.list,(d,_)=>(a(),r(h,{key:_},[f.loading?g("",!0):(a(),r("tr",ot,[t("td",nt,m(_+1),1),t("td",at,m(d.plan_name),1),t("td",lt,m(d.plan_user),1),t("td",rt," $"+m(d.plan_amount),1),t("td",it,m(d.plan_days)+" Days ",1),t("td",ct,[l(b,{as:"div",class:"relative inline-block text-left"},{default:c(()=>[t("div",null,[l(y,{class:"w-8 h-8 rounded-lg flex items-center justify-center"},{default:c(()=>[dt]),_:1})]),l(E,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:c(()=>[l(w,{class:"absolute right-0 mt-2 w-56 origin-top-right divide-y z-20 divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none"},{default:c(()=>[t("div",ut,[l(k,null,{default:c(({active:p})=>[t("button",{onClick:D=>n.editItem(d.plan_id),class:P([p?"bg-Grey_20 color-Grey_90":"text-gray-900","group flex w-full items-center gap-2 rounded-md px-2 py-2 text-sm"])},[_t,C(" Edit ")],10,pt)]),_:2},1024)]),t("div",ht,[l(k,null,{default:c(({active:p})=>[t("button",{onClick:D=>n.deleteItem(d.plan_id),class:P([p?"bg-Grey_20 color-Grey_90":"text-gray-900","group flex w-full items-center gap-2 rounded-md px-2 py-2 text-sm"])},[gt,C(" Delete ")],10,mt)]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))],64))),128))],64)}const kt=B(O,[["render",ft],["__scopeId","data-v-e59f3e0a"]]),I="http://64.227.168.246:5000/admin",xt={components:{LayoutVue:A,ContentSection:Z,Pagination:z,SearchBox:W,PlanBox:kt,DeleteModel:H},data(){return{authStore:"",alertStore:"",list:[],searchText:"",currentPage:1,totalPages:1,planId:"",deleteItemModal:!1,listLoading:!1,listEmpty:!1,breadcrumbList:[{name:"Dashboard",link:"/"},{name:"Subscription Plans List"}]}},created(){this.authStore=V(),this.alertStore=j(),this.authStore.chnageTitle("Subscription Plan List |  Night warrior Admin","this is description for Subscription Plan List"),this.fetchPlanList()},methods:{searchTextFun:J(function(e){this.searchText=e.target.value.trim(),this.fetchPlanList()},800),clearSearch(){this.searchText="",this.fetchPlanList()},updatePage(e){this.currentPage=e,this.fetchPlanList()},async fetchPlanList(){this.listLoading=!0,this.listEmpty=!1;var e=new FormData;e.append("search",this.searchText),e.append("page_no",this.currentPage);try{const s=await S.post(`${I}/plan-list`,e);s.data.length!==0?(this.listLoading=!1,this.list=s.data,this.totalPages=s.total_pages):(this.listEmpty=!0,this.totalPages=1)}catch(s){this.alertStore.error(s)}},addSubscriptionFun(){this.$router.push({name:"planDetailsUpdate"})},editSubscriptionPlanFun(e){this.$router.push({name:"planDetailsUpdate",params:{id:e}})},getSubscriptionPlanDelete(e){this.deleteItemModal=!0,this.planId=e},async deleteItem(){var e=new FormData;e.append("plan_id",this.planId);try{const s=await S.post(`${I}/plan-remove`,e);s.success===1&&(this.fetchPlanList(),this.deleteItemModal=!1,this.alertStore.success(s.message))}catch(s){this.alertStore.error(s)}}}},x=e=>(M("data-v-29108317"),e=e(),L(),e),yt={class:"flex items-center justify-between max-[768px]:flex-col w-full md:gap-6 gap-4"},wt=x(()=>t("h2",{class:"title text-nowrap"},"Subscription Plans",-1)),bt={class:"flex items-center gap-2 w-full md:justify-end flex-wrap max-[768px]:justify-between"},Ct=x(()=>t("img",{src:K},null,-1)),vt={key:0,class:"data-not-found border-b border-Grey_20 border-solid"},Pt=x(()=>t("img",{src:q},null,-1)),St=[Pt],It={key:1,class:"w-100 user-table"},Mt=x(()=>t("tr",null,[t("td",{class:"count"},[t("p",{class:"text-sm_regular color-Grey_50"},"No.")]),t("td",{class:"name"},[t("p",{class:"text-sm_regular color-Grey_50"},"Plan Name")]),t("td",{class:"type"},[t("p",{class:"text-sm_regular color-Grey_50"},"User Type")]),t("td",{class:"cost"},[t("p",{class:"text-sm_regular color-Grey_50"},"Cost")]),t("td",{class:"validity"},[t("p",{class:"text-sm_regular color-Grey_50"},"Validity")]),t("td",{class:"action"},[t("p",{class:"text-sm_regular color-Grey_50"},"Action")])],-1));function Lt(e,s,f,F,o,n){const y=i("SearchBox"),k=i("PlanBox"),w=i("Pagination"),b=i("ContentSection"),d=i("LayoutVue"),_=i("DeleteModel");return a(),r(h,null,[l(d,{breadcrumb:o.breadcrumbList},{default:c(()=>[l(b,null,{"table-header":c(()=>[t("div",yt,[wt,t("div",bt,[l(y,{placeholder:"Find something",value:o.searchText,onInput:n.searchTextFun,onClear_search:n.clearSearch},null,8,["value","onInput","onClear_search"]),t("button",{onClick:s[0]||(s[0]=(...p)=>n.addSubscriptionFun&&n.addSubscriptionFun(...p)),class:"btn-regular display-flex align-center w-100 gap-8px w-fit"},[Ct,C(" New Plan")])])])]),"main-table":c(()=>[o.listEmpty?(a(),r("div",vt,St)):g("",!0),o.listEmpty?g("",!0):(a(),r("table",It,[t("tbody",null,[Mt,l(k,{list:o.list,onDelete_item:n.getSubscriptionPlanDelete,onEdit_item:n.editSubscriptionPlanFun,onEdit_status:e.statusUpdate,loading:o.listLoading},null,8,["list","onDelete_item","onEdit_item","onEdit_status","loading"])])]))]),"table-footer":c(()=>[l(w,{currentPage:o.currentPage,totalPages:o.totalPages,onUpdatePage:n.updatePage},null,8,["currentPage","totalPages","onUpdatePage"])]),_:1})]),_:1},8,["breadcrumb"]),o.deleteItemModal?(a(),T(_,{key:0,model_title:"Delete Subscription Plans",model_subtitle:"Are you sure you want to delete this Subscription Plan?",onClose_model:s[1]||(s[1]=p=>o.deleteItemModal=!1),onDelete_item:s[2]||(s[2]=p=>n.deleteItem())})):g("",!0)],64)}const $t=B(xt,[["render",Lt],["__scopeId","data-v-29108317"]]);export{$t as default};
